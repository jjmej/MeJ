(()=>{var e={};e.id=8454,e.ids=[8454],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},35593:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>i}),r(76010),r(11506),r(35866);var a=r(23191),n=r(88716),s=r(37922),o=r.n(s),d=r(95231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let i=["",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,76010)),"C:\\Users\\jose2\\Downloads\\mente-en-juego\\app\\auth\\register\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"C:\\Users\\jose2\\Downloads\\mente-en-juego\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\jose2\\Downloads\\mente-en-juego\\app\\auth\\register\\page.tsx"],u="/auth/register/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},7909:(e,t,r)=>{let a={d5361347cefc9fd7f0cc792c7d0b3efae6279b4d:()=>Promise.resolve().then(r.bind(r,24004)).then(e=>e.signup)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={d5361347cefc9fd7f0cc792c7d0b3efae6279b4d:n.bind(null,"d5361347cefc9fd7f0cc792c7d0b3efae6279b4d")}},94268:(e,t,r)=>{Promise.resolve().then(r.bind(r,33513))},91646:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},69215:()=>{},33513:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(10326),n=r(17577);let s=({action:e})=>{let[t,r]=(0,n.useState)("jugador"),[s,o]=(0,n.useState)(""),d=(0,a.jsxs)(a.Fragment,{children:[a.jsx("input",{type:"text",name:"nombre",placeholder:"Tu nombre completo",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0}),a.jsx("input",{type:"email",name:"email",placeholder:"Tu email",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0}),a.jsx("input",{type:"password",name:"password",placeholder:"Crea una contrase\xf1a",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0}),a.jsx("input",{type:"text",name:"deporte",placeholder:"jugador"===t?"Tu deporte principal":"Deporte del equipo",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0}),a.jsx("input",{type:"text",name:"club",placeholder:"Nombre de tu Club o Equipo",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0})]});return(0,a.jsxs)("form",{action:e,className:"w-full space-y-4",children:[a.jsx("input",{type:"hidden",name:"rol",value:t}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 bg-dark-card p-1 rounded-lg mb-6",children:[a.jsx("button",{type:"button",onClick:()=>r("jugador"),className:`py-2 rounded-md font-semibold ${"jugador"===t?"bg-brand-blue":""}`,children:"Soy Jugador"}),a.jsx("button",{type:"button",onClick:()=>r("entrenador"),className:`py-2 rounded-md font-semibold ${"entrenador"===t?"bg-brand-blue":""}`,children:"Soy Entrenador"})]}),d,"jugador"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("select",{name:"edad",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0,defaultValue:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Selecciona tu edad"}),Array.from({length:11},(e,t)=>t+8).map(e=>(0,a.jsxs)("option",{value:e,children:[e," a\xf1os"]},e))]}),a.jsx("input",{type:"text",name:"codigo_entrenador",placeholder:"C\xf3digo de tu entrenador (opcional)",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg"})]}):a.jsx("input",{type:"text",name:"codigo_entrenador",placeholder:"Crea un c\xf3digo \xfanico para tu equipo",className:"w-full bg-dark-card border border-slate-600 text-white rounded-lg p-3 text-center text-lg",required:!0}),s&&a.jsx("p",{className:"text-red-500 text-sm",children:s}),a.jsx("button",{type:"submit",className:"w-full bg-brand-blue hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg text-xl transition-colors !mt-6",children:"Crear cuenta"})]})}},24004:(e,t,r)=>{"use strict";r.r(t),r.d(t,{signup:()=>d});var a=r(24330);r(60166);var n=r(19692),s=r(58585),o=r(71615);async function d(e){let t=(0,o.headers)().get("origin"),r=(0,n.e)(),a=Object.fromEntries(e.entries()),d=a.email,l=a.password,i=a.rol,c=a.nombre,u=a.deporte,p=a.club,{data:{user:m},error:g}=await r.auth.signUp({email:d,password:l,options:{emailRedirectTo:`${t}/auth/callback`}});if(g||!m)return console.error("Sign up error:",g),(0,s.redirect)(`/auth/register?message=${g?.message||"Could not authenticate user"}`);let x={id:m.id,email:m.email,rol:i,nombre:c,deporte:u,club:p};if("jugador"===i){let e=parseInt(a.edad,10);x.edad=e;let t="15-18";e>=8&&e<=11&&(t="8-11"),e>=12&&e<=14&&(t="12-14"),x.age_range=t;let n=a.codigo_entrenador;if(n){let{data:e}=await r.from("profiles").select("id").eq("codigo_entrenador",n).eq("rol","entrenador").single();e&&(x.entrenador_id=e.id)}}else x.codigo_entrenador=a.codigo_entrenador;let{error:b}=await r.from("profiles").insert(x);return b?(console.error("Profile creation error:",b),(0,s.redirect)(`/auth/register?message=${b.message||"Could not create profile"}`)):(0,s.redirect)("/auth/login?message=Revisa tu email para confirmar tu cuenta")}(0,r(40618).h)([d]),(0,a.j)("d5361347cefc9fd7f0cc792c7d0b3efae6279b4d",d)},76010:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(19510),n=r(24004),s=r(68570);let o=(0,s.createProxy)(String.raw`C:\Users\jose2\Downloads\mente-en-juego\components\auth\RegisterForm.tsx`),{__esModule:d,$$typeof:l}=o;o.default;let i=(0,s.createProxy)(String.raw`C:\Users\jose2\Downloads\mente-en-juego\components\auth\RegisterForm.tsx#default`);var c=r(19692),u=r(58585);async function p(){let e=(0,c.e)(),{data:{session:t}}=await e.auth.getSession();return t&&(0,u.redirect)("/"),a.jsx("div",{className:"min-h-screen bg-dark-bg flex flex-col items-center justify-center p-4 text-center",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"Crea tu Cuenta"}),a.jsx("p",{className:"text-lg text-slate-300 mb-8",children:"\xdanete a Mente en Juego"}),a.jsx(i,{action:n.signup}),(0,a.jsxs)("p",{className:"mt-4",children:["\xbfYa tienes cuenta? ",a.jsx("a",{href:"/auth/login",className:"text-brand-blue underline",children:"Inicia Sesi\xf3n"})]})]})})}},11506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>o});var a=r(19510),n=r(87596),s=r.n(n);r(71159),r(67272);let o={title:"Mente en Juego",description:"Plataforma de bienestar mental para j\xf3venes deportistas."};function d({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{className:s().className,children:e})})}},19692:(e,t,r)=>{"use strict";r.d(t,{e:()=>s});var a=r(43647),n=r(71615);function s(){let e=(0,n.cookies)();return(0,a.lx)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,2526,4111,5433],()=>r(35593));module.exports=a})();